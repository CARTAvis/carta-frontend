"use strict";(self.webpackChunkcarta_frontend_docs=self.webpackChunkcarta_frontend_docs||[]).push([[6553],{5544:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var a=t(5893),n=t(1151);const i={sidebar_position:1},r="Quick start",c={id:"code-snippet-tutorial/quick-start",title:"Quick start",description:"Enabling code snippets",source:"@site/docs/code-snippet-tutorial/quick-start.mdx",sourceDirName:"code-snippet-tutorial",slug:"/code-snippet-tutorial/quick-start",permalink:"/carta-frontend/docs/next/code-snippet-tutorial/quick-start",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docsSidebar",previous:{title:"Code snippet tutorial",permalink:"/carta-frontend/docs/next/category/code-snippet-tutorial"},next:{title:"Basics",permalink:"/carta-frontend/docs/next/code-snippet-tutorial/basics"}},o={},l=[{value:"Enabling code snippets",id:"enabling-code-snippets",level:2},{value:"Loading images",id:"loading-images",level:2},{value:"Closing images",id:"closing-images",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,n.a)(),...e.components},{ApiLink:i}=s;return i||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ApiLink",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h1,{id:"quick-start",children:"Quick start"}),"\n",(0,a.jsx)(s.h2,{id:"enabling-code-snippets",children:"Enabling code snippets"}),"\n",(0,a.jsx)(s.p,{children:"The code snippet feature can be enabled via the preferences dialog:"}),"\n",(0,a.jsx)("img",{src:t(9644).Z,alt:"Enable code snippets",width:"500"}),"\n",(0,a.jsx)(s.p,{children:'Once the code snippet feature is enabled, the "Snippets" option appears in the menu. This allows you to create and run code snippets, providing additional functionality to CARTA.'}),"\n",(0,a.jsx)(s.h2,{id:"loading-images",children:"Loading images"}),"\n",(0,a.jsxs)(s.p,{children:["CARTA functions and objects can be accessed via the top-level ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore",children:(0,a.jsx)(s.code,{children:"app"})})," object (or the ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore",children:(0,a.jsx)(s.code,{children:"carta"})})," alias). In the following example, we display the welcome splash screen for 1000 ms and then close it."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"carta.showSplashScreen();\nawait carta.delay(1000);\napp.hideSplashScreen();\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Images loaded in the frontend are referred as and registered in the ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#frames",children:(0,a.jsx)(s.code,{children:"frames"})})," array which contains each frame (i.e., image) as a ",(0,a.jsx)(i,{path:"/.-stores/class/FrameStore",children:(0,a.jsx)(s.code,{children:"FrameStore"})})," object. The currently active frame is accessible with ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#activeFrame",children:(0,a.jsx)(s.code,{children:"activeFrame"})}),". In the following example, we firstly list the frames array, then list the 0th frame, and finally list the current active frame in the console."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"console.log(app.frames);\nconsole.log(app.frames[0]);\nconsole.log(app.activeFrame);\n"})}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#openFile",children:(0,a.jsx)(s.code,{children:"openFile"})}),' takes up to three arguments: directory, filename and HDU. If no HDU is provided, the first HDU ("0") is adopted. The directory and filename can also be combined into a single\nargument. ',(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#openFile",children:(0,a.jsx)(s.code,{children:"openFile"})})," must be called with ",(0,a.jsx)(s.code,{children:"await"}),", as it is an asynchronous function that requires communicating with the backend. In the following example, in the end we will see that\nonly the last image is loaded as each ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#openFile",children:(0,a.jsx)(s.code,{children:"openFile"})})," will close all loaded image first before loading the target image."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:'await app.openFile("test_directory", "testfile.fits", "0");\nawait app.openFile("test_directory", "testfile.fits");\nawait app.openFile("test_directory/testfile.fits");\n'})}),"\n",(0,a.jsxs)(s.p,{children:["Additional images can be appended using ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#appendFile",children:(0,a.jsx)(s.code,{children:"appendFile"})}),". The arguments are the same as ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#openFile",children:(0,a.jsx)(s.code,{children:"openFile"})}),". In the following example, in the end there will be three images loaded."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:'const file1 = await app.openFile("testfile1.fits");\nconst file2 = await app.appendFile("testfile2.fits");\nconst file3 = await app.appendFile("testfile3.fits");\n'})}),"\n",(0,a.jsxs)(s.p,{children:["The active image can be changed with ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#setActiveFrame",children:(0,a.jsx)(s.code,{children:"setActiveFrame"})}),", as well as the wrapper functions ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#setActiveFrameById",children:(0,a.jsx)(s.code,{children:"setActiveFrameById"})})," and ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#setActiveFrameByIndex",children:(0,a.jsx)(s.code,{children:"setActiveFrameByIndex"})}),"."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"app.setActiveFrameByIndex(0);\napp.setActiveFrameById(file2.frameInfo.fileId);\napp.setActiveFrame(file3);\n"})}),"\n",(0,a.jsx)(s.h2,{id:"closing-images",children:"Closing images"}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#closeCurrentFile",children:(0,a.jsx)(s.code,{children:"closeCurrentFile"})})," closes the active image. There will be no user confirmation if the active image serves as the spatial reference image and there are other images matched\nto it."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"app.closeCurrentFile();\n"})}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#closeFile",children:(0,a.jsx)(s.code,{children:"closeFile"})})," takes an optional boolean argument to control whether user confirmation is required if other images are matched to the given file. This defaults to true. ",(0,a.jsx)(s.code,{children:"await"})," is required\nto delay execution until the user confirms."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"await app.closeFile(file1);\napp.closeFile(file1, false); // No user confirmation\n"})}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(i,{path:"/.-stores/class/AppStore/#closeOtherFiles",children:(0,a.jsx)(s.code,{children:"closeOtherFiles"})})," closes all images other than the given file."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"app.closeOtherFiles(file2);\n"})}),"\n",(0,a.jsxs)(s.p,{children:["For all functions and objects availble in the ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore",children:(0,a.jsx)(s.code,{children:"app"})})," object, please refer to the ",(0,a.jsx)(i,{path:"/.-stores/class/AppStore",children:"API documentation"}),"."]})]})}function p(e={}){const{wrapper:s}={...(0,n.a)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},9644:(e,s,t)=>{t.d(s,{Z:()=>a});const a=t.p+"assets/images/enable-code-snippets-99ec31276237f43c9b4df4ed9a34e54a.png"},1151:(e,s,t)=>{t.d(s,{Z:()=>c,a:()=>r});var a=t(7294);const n={},i=a.createContext(n);function r(e){const s=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);